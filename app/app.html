<div class="science-app" data-app-name="KEGG-Pathway-App" id="KEGG-Pathway-App-container">
  <h2>KEGG Pathway Table</h2>

  <div id="error"></div>

  <ul id="tabs" class="nav nav-tabs" role="tablist">
    <li role="presentation"><a href="#about" aria-controls="about" role="tab" data-toggle="tab">About</a></li>
    <li role="presentation" class="active"><a href="#pathway-table" aria-controls="pathway-table" role="tab" data-toggle="tab">Pathway Table</a></li>
    <li role="presentation"><a href="#gene-table" aria-controls="gene-table" role="tab" data-toggle="tab" id="genetab">Genes by Pathway</a></li>
  </ul>
<br>
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane fade" id="about">
      <a href="http://www.kegg.jp" target="_blank"><img src="http://www.kegg.jp/Fig/kegg128.gif" alt="KEGG Logo"></a>
      <a href="http://www.kegg.jp" target="_blank"><h3>KEGG Website</h3></a>
      <h4>This app displays a table of pathways in KEGG. The table can be expanded to show
      additional information like a description or class of pathway. The pathways can be
      filtered by a NCBI taxon id to show only the organism specific pathways in an
      organism. A list of the genes in a specific pathway can also be shown.</h4>
      <blockquote><p>KEGG is a database resource for understanding high-level functions and
      utilities of the biological system, such as the cell, the organism and the
       ecosystem, from molecular-level information, especially large-scale
      molecular datasets generated by genome sequencing and other
      high-throughput experimental technologies.</p>
      <footer>KEGG</footer></blockquote>
      <a href="http://www.kegg.jp/kegg/legal.html" target="_blank">KEGG Copyright and Disclaimer</a>
      <h3>How to use this app</h3>
      <p>By default, the pathway table only shows pathways in Arabidopsis thaliana. However,
        KEGG has pathway information on many other organisms. To show other pathways, uncheck the
        "Show only Arabidopsis pathways" checkbox. This will then display KEGG's reference pathways,
        which are not specific to any organism. Now, you can enter an NCBI taxon ID
        (e.g. 3702 for <i>Arabidopsis thaliana</i>, 9606 for humans, 7227 for <i>Drosophila melanogaster</i>) and the pathways specific to that
        organism will be displayed. </p>
      <p> You can search through the pathways using the search bar above the table on the right hand side.
        You can also sort the table by clicking the table headers. In the table, you will see the KEGG ID of the
        pathway, KEGG's name for the pathway with a button to expand information, and a button to show the pathway diagram. Clicking on the
        expand button will display additional information about the pathway, including KEGG's description
        of the pathway, and the class of pathways the pathway is in. There will also be another
        button to show the genes in that pathway, unless the table is displaying KEGG refernce pathways
        and the reference pathways have no associated gene information. This button will switch to the
        "Genes by Pathway" tab of the app and the genes can be browsed there. The show pathway button
        will create a popup with an image of KEGG's pathway diagram. Below the image is a link to the
        interactive image on KEGG. When organism specific pathways are displayed, some boxes in the
        pathway diagram will be green. This means that there is a specifc gene associated with the
        enzyme.</p>
      <p> On the Genes by Pathway tab, you can enter a taxon ID and a KEGG pathway ID and see the genes
        in that pathway. The table can be sorted by gene locus ID, gene name, EC number, and the KEGG
        Orthology ID. The table can also be searched using the search bar. If no taxon ID is given,
        then the list will only contain KEGG orthology genes, which are not species specific.</p>


      <br><br><br><br><br><br><br>


    </div>
    <div role="tabpanel" class="tab-pane fade in active" id="pathway-table">
      <form name="taxon_form" class="form-inline">
        <input type="checkbox" id="specific" checked> Show only Arabidopsis pathways
        <br>
        <div class="collapse" id="taxon_textbox">
          <br>
          <div class="form-group">
            <label for="taxonId">NCBI Taxon ID (e.g. 3702)</label>
            <input type="text" class="form-control" id="taxonId" placeholder="">
          </div>

          <button type="submit" class="btn btn-success" id=submit>Submit</button>
          <button type="button" class="btn btn-danger" id="reset" data-toggle="tooltip" data-placement="right" title="Resets to display KEGG reference pathways">Reset</button>
        </div>
      </form>
      <span id="taxon-form-error" class="err-text" style="display: none;">Invalid taxon ID format. Should be only numerals.</span><br>
      <div class="data">Loading...</div>
    </div>
    <div role="tabpanel" class="tab-pane fade" id="gene-table">
      <form name="gene-form" class="form-inline">
        <div class="form-group">
          <label for="gene-taxonId">NCBI Taxon ID (e.g. 3702)</label>
          <input type="text" class="form-control" id="geneTaxonId" value="3702"><br>
          <span id="gene-form-tax-error" class="err-text" style="display: none;">Invalid taxon ID format. Should only have numerals.</span><br>
	       </div>
         &nbsp;&nbsp;&nbsp;&nbsp;
	        <div class ="form-group">
          <label for="exampleInputName2"> KEGG Pathway ID (e.g.00010)</label>
          <input type="text" class="form-control" id="pathwayId" value="00010"><br>
          <span id="gene-form-path-error" class="err-text" style="display: none;"></span><br>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-success" id="submit-gene">Submit</button>
          <button type="button" class="btn btn-danger" id="reset-gene" >Clear</button>
          <br><br>
        </div>
      </form>
      <div id="genes">Enter a taxon ID and a pathway ID.</div>
    </div>
  </div>


  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="exampleModalLabel">Pathway Map</h4>
      </div>
      <div class="modal-body">
        <img src="http://rest.kegg.jp/get/ath00564/image">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</div>
